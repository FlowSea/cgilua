<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
    <title>CGILua - Building web scripts with Lua</title>
    <link rel="stylesheet" href="http://www.keplerproject.org/doc.css" type="text/css"/>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
</head>
<body>

<div id="container">
	
<div id="product">
	<div id="product_logo"><a href="http://www.keplerproject.org">
		<img alt="CGILua logo" src="cgi-128.gif"/>
	</a></div>
	<div id="product_name"><big><b>CGILua</b></big></div>
	<div id="product_description">Building web scripts with Lua</div>
</div> <!-- id="product" -->

<div id="main">
	
<div id="navigation">
<h1>CGILua</h1>
	<ul>
		<li><a href="index.html">Home</a>
			<ul>
				<li><a href="index.html#overview">Overview</a></li>
				<li><a href="index.html#status">Status</a></li>
				<li><a href="index.html#download">Download</a></li>
				<li><a href="index.html#history">History</a></li>
				<li><a href="#incompatibility">Incompatibilities</a></li>
				<li><a href="index.html#credits">Credits</a></li>
				<li><a href="index.html#contact">Contact us</a></li>
			</ul>
		</li>
		<li><strong>Installation and configuration</strong>
			<ul>
				<li><a href="config.html#installation">Installation</a></li>
				<li><a href="config.html#config">Configuration</a></li>
			</ul>
		</li>
		<li><a href="scripts.html">CGILua scripts</a>
			<ul>
				<li><a href="scripts.html#scripts">Lua Scripts</a></li>
				<li><a href="scripts.html#templates">Lua Pages</a></li>
				<li><a href="scripts.html#parameters">Receiving parameters</a></li>
			</ul>
		</li>
		<li><a href="reference.html">CGILua reference</a>
			<ul>
				<li><a href="reference.html#headers">Headers</a></li>
				<li><a href="reference.html#contents">Content generation</a></li>
				<li><a href="reference.html#prep">Pre-processing templates</a></li>
				<li><a href="reference.html#variables">CGILua's variables</a></li>
				<li><a href="reference.html#error_handling">Error Handling</a></li>
				<li><a href="reference.html#behavior">CGILua behavior</a></li>
				<li><a href="reference.html#auxiliar">Auxiliary functions</a></li>
				<li><a href="reference.html#urlcode">URL encoding functions</a></li>
				<li><a href="reference.html#index">Alphabetic index</a></li>
			</ul>
		</li>
		<li><a href="libraries.html">Distributed libraries</a>
			<ul>
				<li><a href="libraries.html#cookies">Cookies</a></li>
				<li><a href="libraries.html#serialize">Serialize</a></li>
				<li><a href="libraries.html#session">Session</a></li>
				<li><a href="libraries.html#stable">Stable</a></li>
			</ul>
		</li>
		<li><a href="sapi.html">Server API</a></li>
		<li><a href="examples.html">Examples</a></li>
		<li><a href="license.html">License</a></li>
	</ul>
</div> <!-- id="navigation" -->

<div id="content">

<h2><a name="installation"></a>Installation</h2>

<p>
CGILua is a Lua package which follows the
<a href="http://www.keplerproject.org/compat">package proposal</a>
for Lua 5.1.
</p>

<p>
The whole package should be installed in a directory called
<tt>cgilua</tt>.
</p>



<h2><a name="config"></a>Configuration</h2>

<p>CGILua 5.0 offers a single configuration file,
called <code>config.lua</code>
and a set of functions to alter the default
configuration.
</p>

<a name="sys_config"></a>
<h3>CGILua configuration</h3>

<p>CGILua system configuration is placed at <code>config.lua</code>.
Some of the configuration parameters are listed below:
</p>

<ul>
  <li>
script handlers, by calling
<a href="reference.html#addscripthandler">
<code>cgilua.addscripthandler</code></a> (see also
<a href="reference.html#buildplainhandler">cgilua.buildplainhandler</a> and
<a href="reference.html#buildprocesshandler">cgilua.buildprocesshandler</a>
for functions that build simple handlers);
  </li>
  <li>
POST data sizes, by calling <a href="reference.html#setmaxinput">
<code>cgilua.setmaxinput</code></a> and <a href="reference.html#setmaxfilesize">
<code>cgilua.setmaxfilesize</code></a>;
  </li>
  <li>
opening and closing functions, by calling
<a href="reference.html#addopenfunction"><code>cgilua.addopenfunction</code></a> and
<a href="reference.html#addclosefunction"><code>cgilua.addclosefunction</code></a>.
This functions are executed just before and after the script execution,
even if an error occurs.
  </li>
</ul>

<a name="error_handling"></a>
<h3>Error Handling</h3>

<p>There are three functions to handle errors in CGILua:
</p>

<p>The function <a href="reference.html#seterrorhandler">
<code>cgilua.seterrorhandler</code></a> defines the <i>error handler</i>,
a function called by Lua when an error has just occurred. The error handler
has access to the execution stack before the error is thrown and so it can
build an error message using stack information. Lua also provides a function
to do that: <code>debug.traceback</code>.</p>

<p>The function <a href="reference.html#seterroroutput">
<code>cgilua.seterroroutput</code></a> defines the function that decides
what to do with the message.
It could be sent to the client's browser or written to the log file
or sent to an e-mail address (with the help of LuaSocket, for example).
</p>

<p>The function
<a href="reference.html#errorlog"><code>cgilua.errorlog</code></a>
is provided to write directly to the http server error log file.
</p>

</div> <!-- id="content" -->

</div> <!-- id="main" -->

<div id="about">
	<p><a href="http://validator.w3.org/check?uri=referer"><img src="http://www.w3.org/Icons/valid-xhtml10" alt="Valid XHTML 1.0!" height="31" width="88" /></a></p>
	<p><small>
	$Id: config.html,v 1.29 2005/05/18 21:16:12 uid20006 Exp $
	</small></p>
</div> <!-- id="about" -->

</div> <!-- id="container" -->

</body>
</html> 
