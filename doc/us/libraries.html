<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html>
<head>
<meta name="generator" content="HTML Tidy, see www.w3.org">
<title>CGILua 5.0: Distributed libraries</title>
<style type="text/css">
ul { list-style-type: disc };
</style>
</head>
<body bgcolor="#FFFFFF">
<center>
<table border="0" cellspacing="2" cellpadding="2">
<tr>
<td align="center"><a href="http://www.keplerproject.org"><img
border="0" alt="CGILua" src="cgi-128.gif"></a> </td>
</tr>

<tr>
<td align="center"><big><b>CGILua 5.0</b></big> </td>
</tr>

<tr>
<td align="center" valign="top">Distributed libraries</td>
</tr>
</table>
</center>

<p></p>

<center>
<small>
<a href="index.html">home</a> &middot;
<a href="#cookies">cookies</a> &middot;
<a href="#serialize">serialize</a> &middot;
<a href="#session">session</a> &middot;
<a href="#stable">state table</a>
</small>
</center>

<hr>
<a name="cookies"></a> 
<h2>Cookies</h2>

<a name="get"></a> 
<h3><code>cgilua.cookies.get (name)</code></h3>
Gets the value of the named cookie.<br>
Returns a string with the value of the cookie.

<a name="set"></a> 
<h3><code>cgilua.cookies.set (name, value[, options])</code></h3>
Sets the value of the named cookie.
This function should be called before the HTTP header is sent and before
any output is generated.<br>
Returns nothing.

<a name="sethtml"></a> 
<h3><code>cgilua.cookies.sethtml (name, value[, options])</code></h3>
Sets the value of the named cookie.
This function generates a <code>&lt;meta&gt;</code> HTML element so
it should be called after the <code>&lt;head&gt;</code> HTML tag was
produced and before the <code>&lt;body&gt;</code>.<br>
Returns nothing.

<a name="delete"></a> 
<h3><code>cgilua.cookies.delete (name[, options])</code></h3>
Deletes the value of the named cookie
(by setting its value to <code>xxx</code>).
Returns nothing.


<hr>
<a name="serialize"></a>
<h2>Serialize</h2>

<a name="serialize"></a>
<h3><code>cgilua.serialize (table, outfunc, indent, prefix)</code></h3>
Serializes a table.
Argument <code>table</code> is the table to be serialized;
<code>outfunc</code> is a function used to generate the output;
<code>indent</code> is an optional string with the indentation pattern;
<code>prefix</code> is an optional string with the indentation prefix
(it is used to store the actual indentation between the recursion calls).<br>
Some restrictions must be noted:
values of types <i>function</i> and <i>userdata</i> could not be serialized;
also, tables with cycles are not serialized.<br>
Returns nothing.


<hr>
<a name="session"></a> 
<h2>Session</h2>

<a name="close"></a>
<h3><code>cgilua.session.close ()</code></h3>
Closes user session.
Saves all data in <code>cgilua.session.data</code> to the storing system.
This function should be called after the end of the script's execution.
A recommended way to do that is by calling
<a href="reference.html#addclosefunction">addclosefunction</a>
in the configuration file.<br>
Returns nothing.

<a name="data"></a>
<h3><code>cgilua.session.data</code></h3>
Table which holds session data.

<a name="delete"></a>
<h3><code>cgilua.session.delete (id)</code></h3>
Deletes a session.
The argument is the session identifier.<br>
Returns nothing.

<a name="load"></a>
<h3><code>cgilua.session.load (id)</code></h3>
Loads data from a session.
The argument is the session identifier.<br>
Returns a table with session data or
<code>nil</code> followed by an error message.

<a name="new"></a>
<h3><code>cgilua.session.new ()</code></h3>
Creates a new session identifier.<br>
Returns the new session identifier.

<a name="open"></a>
<h3><code>cgilua.session.open ()</code></h3>
Opens user session.
Creates table <code>cgilua.session.data</code>.
This function should be called just before the execution of the script,
but after the processing of the request's headers.
Therefore it must be added to the opening functions list
(see <a href="reference.html#addopenfunction">addopenfunction</a>)
in the configuration file.<br>
Returns nothing.

<a name="save"></a>
<h3><code>cgilua.session.save (id, data)</code></h3>
Saves data to a session.
Argument <code>id</code> is a session identifier;
argument <code>data</code> is a table with session data to be saved.<br>
Returns nothing.

<a name="setsessiondir"></a>
<h3><code>cgilua.session.setsessiondir (path)</code></h3>
Changes the session temporary directory.
Argument <code>path</code> is a string with the new directory.<br>
Returns nothing. 


<hr>
<a name="stable"></a> 
<h2>State table</h2>

<a name="get"></a>
<h3><code>stable.get (key)</code></h3>
Retrieves the value of a given key.<br>
Returns any value.

<a name="set"></a>
<h3><code>stable.set (key, value)</code></h3>
Stores a value associated to a key.<br>
Returns nothing.


<hr>
<small>$Id: libraries.html,v 1.11 2004/12/06 09:18:22 tomas Exp $</small>
</body>
</html>

