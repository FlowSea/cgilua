<html>

<head>
<title>CGILua 5.0: SAPI</title>
<style type="text/css">
ul { list-style-type: disc };
</style>
</head>

<body bgcolor="#FFFFFF">

<center>
<table border=0 cellspacing=2 cellpadding=2>
<tr><td align=center><a href="http://www.lua.org">
<img border=0 alt="CGILua" src="cgi-128.gif"></a>
<tr><td align=center><big><b>CGILua</b></big>
<tr><td align=center valign=top>Building CGI scripts with Lua
</table>
</center>
<p>

<center><small>
<a href="index.html#over">overview</a> &middot;
<a href="index.html#download">download</a> &middot;
<a href="config.html">install & config</a> &middot;
<a href="scripts.html">scripts</a> &middot;
<a href="upload.html">file upload</a> &middot;
<a href="reference.html">reference</a> &middot;
<a href="idx.html">index</a> 
</small></center>
<p>

<hr>

<h2>Server API</h2>
<p>
The Server API is a set of functions that encapsulate the diferences
between the launchers.
The functions are grouped into two groups:
HTTP_Request and HTTP_Response.
<p>
Here is the list of functions:
<ul>
  <li> <b><code>HTTP_Response.contenttype (string)</code></b> Sends the
    <code>Content-type</code> header to the client.  The given string
    is of the form "type/subtype".  This function must be called before
    any output.

  <li> <b><code>HTTP_Response.redirect (string)</code></b> Sends the
    <code>Location</code> header to the client.
    The given string should be a URL.

  <li> <b><code>HTTP_Response.header (header, value)</code></b> Sends a
    generic header to the client.  The first argument must be the header
    name, such as "Set-Cookie".  The second argument should be its value.
    This function should not be used to replace the <code>contenttype</code>
    nor the <code>redirect</code> functions.

  <li> <b><code>HTTP_Response.write (string)</code></b> Generates output.

  <li> <b><code>HTTP_Response.errorlog (string)</code></b> Generates
    error output.
</ul>

<ul>
  <li> <b><code>HTTP_Request.getpostdata ([n])</code></b> Gets a block
    of "POST data".
    The optional parameter is the number of bytes to read (a default block
    size is used instead).  This function returns the block as a Lua string.

  <li> <b><code>HTTP_Request.servervariable (string)</code></b> Gets the
    value of an environment variable (<code>CONTENT_LENGTH</code>,
    <code>QUERY_STRING</code>,
    <code>REMOTE_ADDR</code> etc.).
    The argument must be a CGI variable.
</ul>


<p>
<hr>
<small>
$Id: sapi.html,v 1.5 2004/05/10 09:06:03 tomas Exp $
</small>

</body>
</html>

